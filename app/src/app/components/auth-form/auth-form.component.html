<mat-card>
  <mat-card-header>
    <mat-card-title *ngIf="isRegistered; else elseBlock">Login</mat-card-title>
    <ng-template #elseBlock><mat-card-title>Sign Up</mat-card-title></ng-template>
  </mat-card-header>

  <mat-card-content>
    <form class="container" [formGroup]="authForm" (ngSubmit)="authData()">
      <div class="container" *ngIf="isRegistered; else block2">
        <mat-form-field class="full-width">
          <input
            matInput
            class="full"
            placeholder="email"
            name="email"
            formControlName="email"
            required
          />
        </mat-form-field>
        <div
          class="error"
          *ngIf="
            authForm.get('email').touched &&
            authForm.get('email').hasError('required')
          "
        >
          Email is required
        </div>
        <div 
          class="error"
          *ngIf="authForm.get('email').hasError('email')"> 
          Please provide proper email
          </div>
        <mat-form-field class="full-width">
          <input
            matInput
            class="full"
            placeholder="password"
            name="password"
            formControlName="password"
            required
          />
        </mat-form-field>
        <div
          class="error"
          *ngIf="
            authForm.get('password').hasError('required') &&
            authForm.get('password').touched
          "
        >
          Password is required.
        </div>
      </div>
      <ng-template #block2>
        <div class="container">
          <mat-form-field class="full-width">
            <input
              matInput
              class="full"
              placeholder="firstName"
              name="firstName"
              formControlName="firstName"
              required
            />
          </mat-form-field>
          <div
            class="error"
            *ngIf="
              authForm.get('firstName').hasError('required') &&
              authForm.get('firstName').touched
            "
          >
            First Name is required.
          </div>
          <mat-form-field class="full-width">
            <input
              matInput
              class="full"
              placeholder="lastName"
              name="lastName"
              formControlName="lastName"
              required
            />
          </mat-form-field>
          <div
            class="error"
            *ngIf="
              authForm.get('lastName').hasError('required') &&
              authForm.get('lastName').touched
            "
          >
            Last Name is required.
          </div>
          <mat-form-field class="full-width">
            <input
              matInput
              class="full"
              placeholder="email"
              name="email"
              formControlName="email"
              required
            />
          </mat-form-field>
          <div
            class="error"
            *ngIf="
              authForm.get('email').hasError('required') &&
              authForm.get('email').touched
            "
          >
            Email is required.
          </div>
          <div 
          class="error"
          *ngIf="authForm.get('email').hasError('email')"> 
          Please provide proper email
          </div>
          <mat-form-field class="full-width">
            <input
              matInput
              class="full"
              placeholder="password"
              name="password"
              formControlName="password"
              required
            />
          </mat-form-field>
          <div
            class="error"
            *ngIf="
              authForm.get('password').hasError('required') &&
              authForm.get('password').touched
            "
          >
            Password is required.
          </div>
        </div>
      </ng-template>
      <button
        mat-raised-button
        color="primary"
        *ngIf="isRegistered; else elseBlock3"
        [disabled]="authForm.invalid"
      >
        Login
      </button>
      <ng-template #elseBlock3
        ><button
          mat-raised-button
          color="primary"
          type="submit"
          #elseBlock
          [disabled]="authForm.invalid"
        >
          Signup
        </button></ng-template
      >

      <p class="signupLink" *ngIf="isRegistered; else elseBlock4">
        Dont have account?
        <a routerLink="/" (click)="toggleIsRegistered()">SignUp</a>
      </p>
      <ng-template #elseBlock4>
        <p class="signupLink">
          Have a account ?
          <a routerLink="/" (click)="toggleIsRegistered()">Login</a>
        </p>
      </ng-template>
      <p>{{ message }}</p>
    </form>
  </mat-card-content>
</mat-card>
