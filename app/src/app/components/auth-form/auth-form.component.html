<mat-card>
  <mat-card-header>
    <mat-card-title *ngIf="isRegistered; else elseBlock">Login</mat-card-title>
    <ng-template #elseBlock
      ><mat-card-title>Sign Up</mat-card-title></ng-template
    >
  </mat-card-header>

  <mat-card-content>
    <form
      class="container"
      [formGroup]="authForm"
      (ngSubmit)="authData()"
      *ngIf="isRegistered; else block1"
    >
      <div class="container">
        <mat-form-field class="full-width">
          <input
            matInput
            class="full"
            placeholder="email"
            name="email"
            formControlName="email"
            required
          />
        </mat-form-field>
        <div
          class="error"
          *ngIf="
            authForm.get('email').touched &&
            authForm.get('email').hasError('required')
          "
        >
          Email is required
        </div>
        <div class="error" *ngIf="authForm.get('email').hasError('email')">
          Please provide proper email
        </div>
        <mat-form-field class="full-width">
          <input
            matInput
            class="full"
            placeholder="password"
            name="password"
            formControlName="password"
            required
          />
        </mat-form-field>
        <div
          class="error"
          *ngIf="
            authForm.get('password').hasError('required') &&
            authForm.get('password').touched
          "
        >
          Password is required.
        </div>
      </div>

      <button mat-raised-button color="primary" [disabled]="authForm.invalid">
        Login
      </button>

      <p class="signupLink">
        Dont have account?
        <a routerLink="/signup" (click)="toggleIsRegistered()">SignUp</a>
      </p>
      <p class="error">{{ message }}</p>
    </form>

    <ng-template #block1>
      <form class="container" [formGroup]="signUpForm" (ngSubmit)="signUp()">
        <div class="container">
          <mat-form-field class="full-width">
            <input
              matInput
              class="full"
              placeholder="email"
              name="email"
              formControlName="email"
              required
            />
          </mat-form-field>
          <div
            class="error"
            *ngIf="
              signUpForm.get('email').touched &&
              signUpForm.get('email').hasError('required')
            "
          >
            Email is required
          </div>
          <div
            class="error"
            *ngIf="signUpForm.get('email').hasError('email')"
          >
            Please provide proper email
          </div>
          <mat-form-field>
            <input
              matInput
              class="full"
              placeholder="password"
              name="password"
              formControlName="password"
              required
            />
          </mat-form-field>
          <div
            class="error"
            *ngIf="
              signUpForm.get('password').hasError('required') &&
              signUpForm.get('password').touched
            "
          >
            Password is required.
          </div>
          <mat-form-field>
            <input
              matInput
              class="full"
              placeholder="firstName"
              name="firstName"
              formControlName="firstName"
              required
            />
          </mat-form-field>
          <div
            class="error"
            *ngIf="
              signUpForm.get('firstName').hasError('required') &&
              signUpForm.get('firstName').touched
            "
          >
            First Name is required.
          </div>
          <mat-form-field>
            <input
              matInput
              class="full"
              placeholder="lastName"
              name="lastName"
              formControlName="lastName"
              required
            />
          </mat-form-field>
          <div
            class="error"
            *ngIf="
              signUpForm.get('lastName').hasError('required') &&
              signUpForm.get('lastName').touched
            "
          >
            Last Name is required.
          </div>
        </div>
        <button
          mat-raised-button
          color="primary"
          [disabled]="signUpForm.invalid"
        >
          Signup
        </button>
        <p class="signupLink">
          Have a account ?
          <a routerLink="/login" (click)="toggleIsRegistered()">Login</a>
        </p>
      </form>
    </ng-template>
  </mat-card-content>
  

</mat-card>


